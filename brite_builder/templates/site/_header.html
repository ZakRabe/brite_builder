{% load html_filters %}
{% load static %}
<!-- Image and text -->
<nav class="sticky-top navbar navbar-dark bg-dark navbar-expand-lg">
  <a class="navbar-brand" title="Home" href="/">
    <img src="{% static "brite_builder/img/logo.png" %}"  height="30" class="d-inline-block align-top" alt="">
    Counter.GG
  </a>
  {% if champs %}
  <form class="form-inline">
    <select class="form-control" onchange="location = this.options[this.selectedIndex].value;">
      <option value="#">Choose Champion</option>
      <optgroup label="Melee">
      {% for champ in champs %}
      {% if champ.c_type == 0 %}
          <option
            value="/{{champ.title|champLink}}"
            {% if selected_champ.title == champ.title %} selected="selected"{% endif %}>
            {{ champ }}
          </option>
      {% endif %}
      {% endfor %}
      </optgroup>
      <optgroup label="Ranged">
      {% for champ in champs %}
      {% if champ.c_type == 1 %}
          <option
            value="/{{champ.title|champLink}}"
            {% if selected_champ.title == champ.title %} selected="selected"{% endif %}>
            {{ champ }}
          </option>
      {% endif %}
      {% endfor %}
      <optgroup label="Support">
      {% for champ in champs %}
      {% if champ.c_type == 2 %}
          <option
            value="/{{champ.title|champLink}}"
            {% if selected_champ.title == champ.title %} selected="selected"{% endif %}>
            {{ champ }}
          </option>
      {% endif %}
      {% endfor %}
      </optgroup>
      </optgroup>
    </select>
  </form>
  {% endif %}
  <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
  </button>
  <div class="collapse navbar-collapse justify-content-end" id="navbarNav">
    <ul class="navbar-nav">
      <li class="nav-item">
        <a class="nav-link" target="_blank" title="Discord" href="https://discord.gg/wHSKWfs">
          <img src="{% static "brite_builder/img/discord_icon.png" %}"  height="30" class="d-inline-block align-top" alt="Discord">
        </a>
      </li>
      {% if user.is_authenticated %}
      <li class="nav-item">
        <a class="nav-link" href="/profile">Profile</a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="/auth/logout">Logout</a>
      </li>
      {% endif %}

      {% if not user.is_authenticated %}
      <li class="nav-item">
        <a class="nav-link" href="/auth/register">Sign Up</a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="/auth/login">Login</a>
      </li>
      {% endif %}

    </ul>
  </div>

</nav>
